<script>
    Vue.component('tools-pane', {
            template: '#tools-pane',
            props: [],
            data() {
                return {
                    currentTime: 0,
                    currentFrame: 0,
                    currentState: 'paused'
                }
            },
            computed: {},
            created() {
            },
            methods: {
                onNewObject() {
                    if (this.currentState == 'paused') {
                        this.$emit('newObjectClick', this.currentFrame);
                    }
                },
                onEndObject() {
                    if (this.currentState == 'paused') {
                        let currentObject = this.$store.state.currentObject;
                        let currentState = this.$store.state.currentObjectState;
                        if (currentState == 'selected') {
                            this.$store.dispatch('endObject');
                        }
                    }
                },
                onObjectBlocked() {
                    if (this.currentState == 'paused') {
                        this.$store.dispatch('objectBlocked');
                    }
                },
                onObjectVisible() {
                    if (this.currentState == 'paused') {
                        this.$store.dispatch('objectVisible');
                    }
                },
                onClearObject() {
                    if (this.currentState == 'paused') {
                        this.$store.dispatch('clearObject');
                    }
                },
            },
            mounted: function () {
                this.$store.watch(
                    (state, getters) => getters.currentState,
                    (currentState) => {
                        this.currentState = currentState;
                    }
                )
            },
            watch: {}
        }
    );
</script>

<script type="text/x-template" id="tools-pane">
    <div id="toolsPaneContainer">
        <LinkButton id="btnNewObject" iconCls="far fa-square" @click="onNewObject">New Object</LinkButton>
        <LinkButton id="btnEndObject" iconCls="far fa-square" @click="onEndObject">End Object</LinkButton>
        <LinkButton id="btnObjectBlocked" iconCls="far fa-square" @click="onObjectBlocked">Object Blocked</LinkButton>
        <LinkButton id="btnObjectVisible" iconCls="far fa-square" @click="onObjectVisible">Object Visible</LinkButton>
        <LinkButton id="btnClearObject" iconCls="far fa-square" @click="onClearObject">Clear Object</LinkButton>
    </div>
</script>

